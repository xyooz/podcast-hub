<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ğŸ™ï¸ Podcast Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                        },
                        dark: {
                            800: '#1e293b',
                            900: '#0f172a',
                            950: '#020617',
                        }
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'slide-up': 'slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1)',
                        'slide-down': 'slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
                        'fade-in': 'fadeIn 0.3s ease',
                        'scale-in': 'scaleIn 0.2s ease',
                        'shimmer': 'shimmer 1.5s infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': 'transform: translateY(0)',
                            '50%': 'transform: translateY(-10px)',
                        },
                        slideUp: {
                            '0%': 'transform: translateY(20px); opacity: 0',
                            '100%': 'transform: translateY(0); opacity: 1',
                        },
                        slideDown: {
                            '0%': 'transform: translateY(-20px); opacity: 0',
                            '100%': 'transform: translateY(0); opacity: 1',
                        },
                        fadeIn: {
                            '0%': 'opacity: 0',
                            '100%': 'opacity: 1',
                        },
                        scaleIn: {
                            '0%': 'transform: scale(0.9); opacity: 0',
                            '100%': 'transform: scale(1); opacity: 1',
                        },
                        shimmer: {
                            '0%': 'background-position: -200% 0',
                            '100%': 'background-position: 200% 0',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        * {
            font-family: 'Inter', system-ui, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1a1a2e 50%, #0f172a 100%);
            min-height: 100vh;
            padding-bottom: 120px;
            overflow-x: hidden;
        }
        
        /* æ»šåŠ¨æ¡ç¾åŒ– */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { 
            background: rgba(255,255,255,0.2); 
            border-radius: 4px; 
        }
        ::-webkit-scrollbar-thumb:hover { 
            background: rgba(255,255,255,0.3); 
        }
        
        /* ç»ç’ƒæ‹Ÿæ€å¡ç‰‡ */
        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }
        
        .glass-card:hover {
            border-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        }
        
        /* å¯¼èˆªæ  */
        .nav-bar {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        /* æ ‡ç­¾æŒ‰é’® */
        .tab-btn {
            opacity: 0.5;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }
        
        .tab-btn:hover {
            opacity: 0.8;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .tab-btn.active {
            opacity: 1;
            background: rgba(56, 189, 248, 0.15);
            border-color: rgba(56, 189, 248, 0.3);
        }
        
        /* å¡ç‰‡æ‚¬æµ®æ•ˆæœ */
        .podcast-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .podcast-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .podcast-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
        }
        
        .podcast-card:hover::before {
            opacity: 1;
        }
        
        .podcast-card:active {
            transform: scale(0.97);
        }
        
        .podcast-card img {
            transition: transform 0.4s ease;
        }
        
        .podcast-card:hover img {
            transform: scale(1.08);
        }
        
        /* å°é¢å›¾ç‰‡å®¹å™¨ */
        .cover-container {
            overflow: hidden;
        }
        
        /* æŒ‰é’®æ•ˆæœ */
        .btn-action {
            transition: all 0.2s ease;
        }
        
        .btn-action:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.2);
        }
        
        .btn-action:active {
            transform: scale(0.95);
        }
        
        /* å¼¹çª—é®ç½© */
        .modal-overlay {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        
        /* å¼¹çª—å†…å®¹ */
        .modal-panel {
            background: linear-gradient(180deg, rgba(30, 41, 59, 0.98) 0%, rgba(15, 23, 42, 0.98) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
        
        /* åˆ—è¡¨é¡¹ */
        .episode-item {
            transition: all 0.2s ease;
            position: relative;
        }
        
        .episode-item:hover {
            background: rgba(255, 255, 255, 0.08);
            padding-left: 20px;
        }
        
        .episode-item:active {
            background: rgba(255, 255, 255, 0.12);
            transform: scale(0.98);
        }
        
        .episode-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 0;
            background: linear-gradient(180deg, #0ea5e9, #8b5cf6);
            border-radius: 0 3px 3px 0;
            transition: height 0.2s ease;
        }
        
        .episode-item:hover::before {
            height: 60%;
        }
        
        /* æ’­æ”¾å™¨ */
        .player-bar {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.95) 0%, rgba(139, 92, 246, 0.95) 100%);
            box-shadow: 0 -4px 30px rgba(14, 165, 233, 0.3);
        }
        
        /* è¿›åº¦æ¡ */
        .progress-track {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #fff, rgba(255,255,255,0.8));
            border-radius: 3px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }
        
        /* è¾“å…¥æ¡† */
        .input-field {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
        }
        
        .input-field:focus {
            border-color: rgba(56, 189, 248, 0.5);
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.1);
        }
        
        /* æ¸å˜æ–‡å­— */
        .gradient-text {
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 50%, #c084fc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* éª¨æ¶å±åŠ¨ç”» */
        .skeleton {
            background: linear-gradient(90deg, rgba(255,255,255,0.05) 25%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.05) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        /* Toast é€šçŸ¥ - æ›´ç°ä»£çš„è®¾è®¡ */
        .toast-notify {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }
        
        /* åº•éƒ¨å®‰å…¨åŒºåŸŸ */
        .safe-bottom {
            padding-bottom: calc(20px + env(safe-area-inset-bottom, 0px));
        }
    </style>
</head>
<body class="text-white">
    
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <nav class="nav-bar fixed top-0 left-0 right-0 z-50 safe-top">
        <div class="max-w-6xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between gap-2">
                <div class="flex items-center gap-2">
                    <span class="text-2xl animate-float">ğŸ™ï¸</span>
                    <h1 class="text-lg font-bold gradient-text hidden sm:block">Podcast Hub</h1>
                </div>
                
                <div class="flex gap-1 overflow-x-auto pb-1 -mb-1 scrollbar-hide">
                    <button onclick="showTab('discover')" 
                            class="tab-btn active px-3 py-1.5 rounded-lg text-xs whitespace-nowrap"
                            data-tab="discover">ğŸ” å‘ç°</button>
                    <button onclick="showTab('podcasts')" 
                            class="tab-btn px-3 py-1.5 rounded-lg text-xs whitespace-nowrap"
                            data-tab="podcasts">ğŸ“š è®¢é˜…</button>
                    <button onclick="showTab('favorites')" 
                            class="tab-btn px-3 py-1.5 rounded-lg text-xs whitespace-nowrap"
                            data-tab="favorites">â¤ï¸ æ”¶è—</button>
                    <button onclick="showTab('history')" 
                            class="tab-btn px-3 py-1.5 rounded-lg text-xs whitespace-nowrap"
                            data-tab="history">ğŸ• å†å²</button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- ä¸»å†…å®¹åŒº -->
    <main class="pt-20 px-4 pb-4 max-w-6xl mx-auto">
        
        <!-- å‘ç°é¡µ -->
        <div id="tab-discover" class="tab-content">
            <!-- æ·»åŠ æ’­å®¢ -->
            <div class="glass-card rounded-2xl p-5 mb-6 animate-slide-down">
                <h2 class="text-base font-semibold mb-4 flex items-center gap-2">
                    <span>â•</span>
                    <span>æ·»åŠ æ’­å®¢</span>
                </h2>
                <div class="flex flex-col gap-3">
                    <input type="text" 
                           id="add-podcast-url"
                           placeholder="ç²˜è´´æ’­å®¢åˆ†äº«é“¾æ¥..."
                           class="input-field w-full px-4 py-3 rounded-xl text-white placeholder-gray-500 text-base">
                    <button onclick="addPodcast()" 
                            class="bg-gradient-to-r from-primary-500 to-purple-500 w-full py-3 rounded-xl font-medium text-white btn-action shadow-lg shadow-primary-500/20">
                        æ·»åŠ æ’­å®¢
                    </button>
                </div>
                <p class="text-gray-500 text-xs mt-3">
                    ğŸ’¡ æ”¯æŒå°å®‡å®™ã€å–œé©¬æ‹‰é›…ã€ç½‘æ˜“äº‘ç­‰å¹³å°
                </p>
            </div>
            
            <!-- æ’­å®¢ç½‘æ ¼ -->
            <div id="podcasts-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
            </div>
        </div>
        
        <!-- è®¢é˜…é¡µ -->
        <div id="tab-podcasts" class="tab-content hidden">
            <div id="subscribed-podcasts" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
            </div>
        </div>
        
        <!-- æ”¶è—é¡µ -->
        <div id="tab-favorites" class="tab-content hidden">
            <div id="favorites-list" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
            </div>
        </div>
        
        <!-- å†å²é¡µ -->
        <div id="tab-history" class="tab-content hidden">
            <div id="history-list" class="space-y-3">
            </div>
        </div>
        
    </main>
    
    <!-- åº•éƒ¨æ’­æ”¾å™¨ -->
    <div id="player-bar" class="player-bar fixed bottom-0 left-0 right-0 z-40 hidden safe-bottom animate-slide-up">
        <div class="max-w-6xl mx-auto px-4 py-3">
            <div class="flex items-center gap-4">
                <!-- å°é¢ -->
                <img id="player-cover" 
                     src="" 
                     class="w-12 h-12 rounded-xl object-cover flex-shrink-0 shadow-lg">
                
                <!-- ä¿¡æ¯ -->
                <div class="flex-1 min-w-0">
                    <h4 id="player-title" class="text-sm font-medium truncate text-white"></h4>
                    <p id="player-podcast" class="text-xs text-white/60 truncate"></p>
                </div>
                
                <!-- æ§åˆ¶ -->
                <div class="flex items-center gap-2">
                    <button onclick="togglePlay()" 
                            id="play-btn"
                            class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center btn-action">
                        <span id="play-icon" class="text-lg">â–¶ï¸</span>
                    </button>
                    <button onclick="closePlayer()" 
                            class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center btn-action">
                        âœ•
                    </button>
                </div>
            </div>
            
            <!-- è¿›åº¦æ¡ -->
            <div class="flex items-center gap-3 mt-3">
                <span id="player-current" class="text-xs text-white/60 w-10">0:00</span>
                <div class="flex-1 progress-track h-1.5 cursor-pointer" onclick="seekPlayer(event)">
                    <div id="player-progress" class="h-full w-0 progress-bar"></div>
                </div>
                <span id="player-duration" class="text-xs text-white/60 w-10">0:00</span>
            </div>
        </div>
        
        <audio id="audio-player" ontimeupdate="updateProgress()" onended="onEnded()"></audio>
    </div>
    
    <!-- èŠ‚ç›®åˆ—è¡¨å¼¹çª— -->
    <div id="episodes-modal" class="modal-overlay fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="modal-panel rounded-3xl w-full max-w-lg max-h-[80vh] overflow-hidden animate-scale-in">
            <!-- å¤´éƒ¨ -->
            <div class="p-5 border-b border-white/10">
                <div class="flex gap-4">
                    <img id="modal-cover" src="" class="w-20 h-20 rounded-2xl object-cover flex-shrink-0 shadow-lg">
                    <div class="flex-1 min-w-0">
                        <h3 id="modal-title" class="font-semibold text-lg leading-tight"></h3>
                        <p id="modal-author" class="text-sm text-gray-400 mt-1"></p>
                        <p id="modal-count" class="text-xs text-gray-500 mt-1"></p>
                    </div>
                    <button onclick="closeModal()" 
                            class="w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center flex-shrink-0 btn-action">
                        âœ•
                    </button>
                </div>
            </div>
            
            <!-- æœç´¢ -->
            <div class="p-3 border-b border-white/5">
                <input type="text" 
                       id="episode-search"
                       placeholder="æœç´¢èŠ‚ç›®..."
                       oninput="filterEpisodes(this.value)"
                       class="input-field w-full px-4 py-2 rounded-lg text-sm">
            </div>
            
            <!-- åˆ—è¡¨ -->
            <div id="episodes-list" class="overflow-y-auto max-h-80 p-2 space-y-2">
            </div>
        </div>
    </div>
    
    <!-- Toast é€šçŸ¥ - ç°ä»£é£æ ¼ -->
    <div id="toast" class="toast-notify fixed top-24 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full text-sm hidden z-50 flex items-center gap-2">
        <span id="toast-icon">âœ…</span>
        <span id="toast-message"></span>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
